var fs = require("fs");

exports.parse = function(hostname) {
    var parts = hostname.split("-");
    return {
        type: parts[0],
        provider: parts[1],
        region: parts[2],
        index: parts[3],
        env: parts[4]
    };
};

exports.get = function() {
    var hostname;
    try {
        hostname = fs.readFileSync("/etc/hostname", "utf8").trim();
    } catch (e) {
        hostname = "localhost";
    }

    return hostname;
};